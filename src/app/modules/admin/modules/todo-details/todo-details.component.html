<div class="container">
  <div class="content">
    @if (bucket) {
    <div class="bucket">
      <p class="title">
        <app-text>{{ bucket.title }}</app-text>
        <app-icon
          *ngIf="!bucket.public"
          [name]="'lock'"
          class="icon"
        ></app-icon>
      </p>

      <div class="action">
        <app-open-form
          [formName]="'edit bucket'"
          [icon]="'edit'"
          [id]="bucket.id"
          [label]="false"
        >
        </app-open-form>
        <app-open-form
          [buttonType]="'danger'"
          [formName]="'delete'"
          [delete]="'Bucket'"
          [icon]="'delete'"
          [id]="bucket.id"
          [label]="false"
        >
        </app-open-form>
      </div>
    </div>
    }

    <div class="title-action">
      <app-open-form
        [formName]="'add bucket items'"
        [icon]="'plus'"
        [id]="todoId"
      >
      </app-open-form>
      <input
        nz-input
        type="text"
        [formControl]="searchControl"
        placeholder="Tìm kiếm..."
      />
    </div>
    <div *ngIf="totalBucketDone || totalBucketNotDone" class="flex">
      <div class="flex done">
        <app-icon [name]="'check'" class="icon"></app-icon>
        <p>{{ totalBucketDone? totalBucketDone : 0 }}</p>
      </div>
      <p>/</p>
      <p>
        {{
          (totalBucketDone ? totalBucketDone : 0) +
            (totalBucketNotDone ? totalBucketNotDone : 0)
        }}
      </p>
    </div>
    @if(bucket){
    <app-todo-item
      [done]="0"
      [searchContent]="searchContent"
      (totalBucket)="getTotalBucketNotDone($event)"
    ></app-todo-item>
    <app-todo-item
      [done]="1"
      [searchContent]="searchContent"
      (totalBucket)="getTotalBucketDone($event)"
    ></app-todo-item>

    }@else{ @if (message.isLoading) {
    <nz-skeleton [nzActive]="true"></nz-skeleton>
    }@else {
    <app-empty></app-empty>
    } }
  </div>
</div>
